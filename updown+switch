#include <lpc17xx.h>

int i,j,x;

int main(){
  LPC_PINCON->PINSEL0=0;
	LPC_GPIO0->FIODIR =0XFF<<4;
	LPC_PINCON= PINSEL4=0;
	LPC_GPIO2->FIODIR =~(1<<12);
	
	while(1){
		
		x= ((LPC_GPIO2->FIOPIN>>12)&1)
		
		while(x){
		
	for(i=0;i<256;i++){
		LPC_GPIO0->FIOCLR = 0x00000FF0;
		LPC_GPIO0->FIOPIN = i<<4;
		for(j=0;j<10000;j++);
	}
}
	while(!x){
	for(i=255;i>0;i--){
		LPC_GPIO0->FIOCLR = 0x00000FF0;
		LPC_GPIO0->FIOPIN = i<<4;
		for(j=0;j<10000;j++);
	}}


}
}
